/* style.css */
:root{
  --bg:#0b1116; --panel:#0f1720; --ink:#e8eef7; --sub:#9bb8cc;
  --ok:#22c55e; --warn:#ffbf69; --bad:#f43f5e; --bar:#16232e; --glow:#7bffc0;
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{margin:0;background:var(--bg);color:var(--ink);
  font-family:-apple-system,BlinkMacSystemFont,"Hiragino Kaku Gothic ProN","SF Pro Text",Segoe UI,Roboto,Arial,system-ui,sans-serif}
.sf{font-variant-numeric:tabular-nums}

/* Top bar */
#topbar{position:sticky;top:0;background:linear-gradient(180deg,#0b1116 0%,#0b1116cc 100%);
  backdrop-filter:saturate(160%) blur(10px);z-index:10;border-bottom:1px solid #0f1a23}
#topbar .row{display:flex;gap:10px;align-items:center;padding:8px 12px;flex-wrap:wrap}
#topbar label{display:block;font-size:12px;color:var(--sub);margin-bottom:2px}
#topbar select,#topbar input{background:#0e1a24;color:var(--ink);border:1px solid #1b2a38;border-radius:10px;
  padding:8px 10px;font-size:14px;min-width:84px}
#topbar button{border:1px solid #1b2a38;background:#13202b;color:var(--ink);border-radius:12px;padding:10px 14px;font-weight:700}
#topbar .primary{background:var(--ok);border:0;color:#07170e}
#topbar .group{display:flex;flex-direction:column}
#topbar .right{margin-left:auto;display:flex;gap:10px}
#topbar .version{margin-left:6px;color:#7d9db6;font-size:12px}
#topbar .micdb{margin-left:8px;font-weight:800}

/* Panel */
#main{padding:10px}
#panel{max-width:980px;margin:0 auto;background:var(--panel);border:1px solid #152331;border-radius:16px;padding:10px}

#hud{display:grid;grid-template-columns:1fr;gap:6px}
#big-score{font-size:40px;font-weight:900;color:#b9d6ea}
#advice{font-size:20px;font-weight:800;color:#ffccd5}

#tuner{margin-top:4px}
#cents .labels{display:flex;justify-content:space-between;color:var(--sub);font-size:12px;margin:2px 2px 4px}
#bar{height:12px;border-radius:6px;background:var(--bar);position:relative;overflow:hidden}
#needleBar{position:absolute;top:0;bottom:0;width:2px;background:var(--ok);left:50%}

/* Staff block */
#staff-wrap{position:relative;border:1px solid #193041;border-radius:12px;background:#0e151c;margin-top:6px;overflow:hidden}
#staff{width:100%;min-height:220px}

#fx{position:absolute;inset:0;pointer-events:none}
#prog{margin-top:8px;color:#8fb3cc}

/* Notes / badges */
.note-normal{fill:#e8eef7;stroke:#e8eef7}
.note-target{fill:#22c55e;stroke:#22c55e;filter:drop-shadow(0 0 4px var(--glow))}
.note-failed{fill:#f43f5e;stroke:#f43f5e}
.badge{font-size:12px;font-weight:900;fill:#cfe6ff}
.badge-good{fill:#7bf5b5}
.badge-ok{fill:#d7f58a}
.badge-ng{fill:#ff9aa2}

/* Gate & Errors */
#mic-gate{position:fixed; inset:0; background:#000c; display:grid; place-items:center;
  z-index:2147483647; pointer-events:auto;}
#mic-gate[aria-hidden="true"]{display:none}
#mic-gate *{pointer-events:auto}
.gate-card{background:#0f1720;border:1px solid #183142;border-radius:16px;padding:20px;max-width:440px}
.big{font-size:18px;padding:12px 18px}

#errors{max-width:980px;margin:10px auto;padding:10px}
#errors h3{margin:0 0 6px;color:#9bb8cc}
#errors ol{margin:0;padding-left:22px;color:#cfe1ef}
#errors .small{margin-top:6px;border:1px solid #1b2a38;background:#13202b;color:#e8eef7;border-radius:10px;padding:6px 10px}

/* Disabled */
button:disabled{opacity:.5}
